@use '../util' as *;

.projects {
  &__wrapper {
    display: flex;
    flex-direction: column;
    gap: rem(40);
    padding-inline: clamp(rem(16), 4vw, rem(32));
    padding-block-end: clamp(rem(80), 10vw, rem(140));

    @include breakpoint(tablet) {
      padding-inline: clamp(rem(30), 4vw, rem(60));
      gap: rem(60);
      padding-block-end: clamp(rem(100), 12vw, rem(120));
    }

    @include breakpoint(desktop) {
      padding: 0;
      padding-block-start: clamp(rem(100), 14vw, rem(140));
      padding-block-end: clamp(rem(140), 16vw, rem(180));
      max-width: var(--max-width);
      margin-inline: auto;
    }
  }

  &__header {
    display: flex;
    align-items: center;
    justify-content: space-between;

    h2 {
      font-size: rem(40);
      line-height: rem(40);
      letter-spacing: rem(-1.14);
    }
  }

  &__body {
    display: flex;
    flex-direction: column;
    gap: rem(40);

    @include breakpoint(tablet) {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      grid-template-rows: repeat(3, 1fr);
      grid-column-gap: rem(22);
      grid-row-gap: rem(60);
    }

    @include breakpoint(tablet) {
      grid-column-gap: rem(30);
      grid-row-gap: rem(69);
    }
  }
}

.project {
  display: flex;
  flex-direction: column;
  gap: rem(20);
  position: relative;

  &__image {
    .project__buttons-overlay {
      display: none;
    }
  }

  &__info {
    display: flex;
    flex-direction: column;
    gap: rem(7);

    h3 {
      font: var(--heading-m);
    }
  }

  &__tools {
    display: flex;
    align-items: center;
    gap: rem(18);
    text-transform: uppercase;
    font: var(--body);
    margin: 0;
    padding: 0;
    list-style: none;
  }

  &__buttons-overlay {
    display: none;
  }

  &__buttons {
    display: flex;
    align-items: center;
    gap: rem(30);
  }

  @include breakpoint(tablet) {
    min-width: rem(342);
  }

  @include breakpoint(desktop) {
    &__image {
      position: relative;
      cursor: pointer;

      .project__buttons-overlay {
        position: absolute;
        display: flex;
        align-items: center;
        flex-direction: column;
        justify-content: center;
        gap: rem(48);
        top: 0;
        bottom: 0;
        width: 100%;
        z-index: 20;
        opacity: 0;
        @media (prefers-reduced-motion: no-preference) {
          transition: var(--transition);
        }
        @media (prefers-reduced-motion: reduce) {
          transition: none;
        }
      }

      &::before {
        position: absolute;
        content: '';
        display: block;
        height: 100%;
        width: 100%;
        background: var(--overlay-bg);
        opacity: 0;
        @media (prefers-reduced-motion: no-preference) {
          transition: var(--transition);
        }
        @media (prefers-reduced-motion: reduce) {
          transition: none;
        }
      }

      &:hover,
      &:focus,
      &:focus-within {
        .project__buttons-overlay {
          opacity: 1;
        }
        &::before {
          opacity: 1;
        }
      }
    }
    &__buttons {
      display: none;
    }
  }
}
